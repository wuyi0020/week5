"use strict";(self["webpackChunkweek5"]=self["webpackChunkweek5"]||[]).push([[448],{7068:function(t,s,e){e.r(s),e.d(s,{default:function(){return f}});var c=e(4108),a=e(9096);const o={class:"home container-fluid"},r={class:"row justify-content-center"},i={class:"col-9 p-2"},n={class:"row row-cols-4"},l={class:"card h-100"},d={class:"card-body"},h={class:"card-title"},u=["src"];function p(t,s,e,p,m,k){const v=(0,c.E1)("router-link");return(0,c.Wz)(),(0,c.An)("div",o,[(0,c.QD)("div",r,[(0,c.QD)("div",i,[(0,c.QD)("div",n,[((0,c.Wz)(!0),(0,c.An)(c.ae,null,(0,c.mi)(m.products,(t=>((0,c.Wz)(),(0,c.An)("div",{class:"col mb-3",key:t.id},[(0,c.QD)("div",l,[(0,c.QD)("div",d,[(0,c.QD)("h5",h,(0,a.WA)(t.title),1),(0,c.QD)("img",{src:t.imageUrl,class:"card-img-top h-75 mb-1",alt:"..."},null,8,u),(0,c.K2)(v,{to:{path:"/ArtWorkView/"+t.id},class:"btn btn-primary"},{default:(0,c.Ql)((()=>[(0,c.mY)("查看作品")])),_:2},1032,["to"])])])])))),128))])])])])}e(3248);var m=e(2964),k={name:"HomeView",components:{},data(){return{apiUrl:"https://vue3-course-api.hexschool.io/v2",apiPath:"wuyi0020",products:[]}},methods:{checkAdmin(){const t=`${this.apiUrl}/api/user/check`;m.c.post(t).then((()=>{this.getData()})).catch((t=>{alert(t.response.data.message),this.$router.push("/login")}))},getData(t=1){const s=`${this.apiUrl}/api/${this.apiPath}/products?category=作者&page=${t}`;m.c.get(s).then((t=>{this.products=t.data.products,this.products.sort(((t,s)=>t.description.localeCompare(s.description)))})).catch((t=>{alert(t.response.data.message)}))}},mounted(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");m.c.defaults.headers.common.Authorization=t,this.checkAdmin()}},v=e(4100);const g=(0,v.c)(k,[["render",p]]);var f=g}}]);
//# sourceMappingURL=448.7ab2440a.js.map