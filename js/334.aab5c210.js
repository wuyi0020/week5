"use strict";(self["webpackChunkweek5"]=self["webpackChunkweek5"]||[]).push([[334],{6334:function(t,e,a){a.r(e),a.d(e,{default:function(){return $}});var r=a(4108);const s={class:"container"},c=(0,r.QD)("div",{class:"row"},[(0,r.QD)("div",{class:"col-12"},[(0,r.QD)("h1",{class:"text-center fw-bolder pt-5 mb-5"},"購買金幣")])],-1),i={class:"row row-cols-3"};function d(t,e,a,d,o,n){const l=(0,r.E1)("coin-product");return(0,r.Wz)(),(0,r.An)("div",null,[(0,r.QD)("div",s,[c,(0,r.QD)("div",i,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(o.products,(t=>((0,r.Wz)(),(0,r.Az)(l,{key:t.id,item:t,onAddCart:n.addCart},null,8,["item","onAddCart"])))),128))])])])}var o=a(2964),n=a(9096);const l={class:"col"},u={class:"card justify-content-between h-100 text-center border-dark"},p={class:"card-header"},h={class:"card-body d-flex align-content-between flex-column"},m=["src"],v={class:"mb-3"},D={class:"card-footer"},Q={key:0},g=(0,r.QD)("div",null,"立即購買",-1),b={class:"col card-text"},W={key:1},f={class:"col card-text"},A={class:"col card-text"};function C(t,e,a,s,c,i){return(0,r.Wz)(),(0,r.An)("div",l,[(0,r.QD)("div",u,[(0,r.QD)("h2",p,(0,n.WA)(a.item.title),1),(0,r.QD)("div",h,[(0,r.QD)("img",{src:a.item.imageUrl,alt:"",class:"coin mb-3 align-self-start card-img-top"},null,8,m),(0,r.QD)("div",v,(0,n.WA)(a.item.content),1)]),(0,r.QD)("div",D,[a.item.origin_price===a.item.price?((0,r.Wz)(),(0,r.An)("div",Q,[g,(0,r.QD)("h1",b,(0,n.WA)(a.item.origin_price)+" TWD",1)])):((0,r.Wz)(),(0,r.An)("div",W,[(0,r.QD)("del",f,(0,n.WA)(a.item.origin_price)+" TWD ",1),(0,r.QD)("h1",A,(0,n.WA)(a.item.price)+" TWD",1)])),(0,r.QD)("button",{class:"btn btn-outline-success mx-1",onClick:e[0]||(e[0]=t=>i.addCart(a.item))}," 加入購物車 ")])])])}var k={name:"CoinProduct",props:{item:{type:Object,required:!0}},data(){return{}},methods:{addCart(){this.$emit("addCart",this.item)}}},w=a(4100);const y=(0,w.c)(k,[["render",C]]);var x=y,z={name:"BuyCoin",data(){return{apiUrl:"https://vue3-course-api.hexschool.io",apiPath:"wuyi0020",products:[]}},components:{CoinProduct:x},methods:{getData(){const t=`${this.apiUrl}/v2/api/${this.apiPath}/products?category=coin`;o.c.get(t).then((t=>{this.products=t.data.products})).catch((t=>{alert(t.response.data.message)})),this.products.sort(((t,e)=>t.order>e.order?1:-1)),this.last=this.products.reduce(((t,e)=>t>e.order?t:e.order),0)},addCart(t){o.c.post(`${this.apiUrl}/v2/api/${this.apiPath}/cart`,{data:{product_id:t.id,qty:1}}).then((t=>{alert(t.data.message)})).catch((t=>{alert(t.response.data.message)}))}},mounted(){this.getData()}};const P=(0,w.c)(z,[["render",d]]);var $=P}}]);
//# sourceMappingURL=334.aab5c210.js.map