{"version":3,"file":"js/334.aab5c210.js","mappings":"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","sources":["webpack://week5/./src/views/BuyCoinView.vue","webpack://week5/./src/components/CoinProduct.vue","webpack://week5/./src/components/CoinProduct.vue?43a6","webpack://week5/./src/views/BuyCoinView.vue?9102"],"sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                    <h1 class=\"text-center fw-bolder pt-5 mb-5\">購買金幣</h1>\r\n                </div>\r\n            </div>\r\n            <div class=\"row row-cols-3\">\r\n                <template v-for=\"product in products\" :key=\"product.id\">\r\n                    <coin-product :item=\"product\" @addCart=\"addCart\" />\r\n                </template>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport CoinProduct from \"@/components/CoinProduct.vue\";\r\n\r\nexport default {\r\n    name: \"BuyCoin\",\r\n    data() {\r\n        return {\r\n            apiUrl: \"https://vue3-course-api.hexschool.io\",\r\n            apiPath: \"wuyi0020\",\r\n            products: [],\r\n        };\r\n    },\r\n    components: {\r\n        CoinProduct,\r\n    },\r\n    methods: {\r\n        getData() {\r\n            const url = `${this.apiUrl}/v2/api/${this.apiPath}/products?category=coin`;\r\n            axios\r\n                .get(url)\r\n                .then((response) => {\r\n                    this.products = response.data.products;\r\n                })\r\n                .catch((err) => {\r\n                    alert(err.response.data.message);\r\n                });\r\n            this.products.sort((a, b) => {\r\n                return a.order > b.order ? 1 : -1;\r\n            })\r\n            //快速尋找products.order中的最大的數字 記錄到last\r\n            this.last = this.products.reduce((acc, cur) => {\r\n                return acc > cur.order ? acc : cur.order;\r\n            }, 0);\r\n        },\r\n        addCart(product) {\r\n            axios\r\n                .post(`${this.apiUrl}/v2/api/${this.apiPath}/cart`, {\r\n                    data: {\r\n                        product_id: product.id,\r\n                        qty: 1,\r\n                    },\r\n                })\r\n                .then((response) => {\r\n                    alert(response.data.message);\r\n                })\r\n                .catch((err) => {\r\n                    alert(err.response.data.message);\r\n                });\r\n        },\r\n    },\r\n    mounted() {\r\n        this.getData();\r\n    },\r\n}\r\n</script>\r\n\r\n<style></style>","<template>\r\n    <div class=\"col\">\r\n        <div class=\"card justify-content-between h-100 text-center border-dark\">\r\n            <h2 class=\"card-header\">{{ item.title }}</h2>\r\n            <div class=\"card-body d-flex align-content-between flex-column\">\r\n                <img :src=\"item.imageUrl\" alt=\"\" class=\"coin mb-3  align-self-start card-img-top\" />\r\n                <div class=\" mb-3\">{{ item.content }}</div>\r\n                \r\n            </div>\r\n            <div class=\"card-footer\">\r\n                <div v-if=\"item.origin_price === item.price\">\r\n                    <div>立即購買</div>\r\n                    <h1 class=\"col card-text\">{{ item.origin_price }} TWD</h1>\r\n                </div>\r\n                <div v-else>\r\n                    <del class=\"col card-text\">\r\n                        {{ item.origin_price }} TWD\r\n                    </del>\r\n                    <h1 class=\"col card-text \">{{ item.price }} TWD</h1>\r\n                </div>\r\n                <button class=\"btn btn-outline-success mx-1\" @click=\"addCart(item)\">\r\n                    加入購物車\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n// import axios from 'axios';\r\n\r\nexport default {\r\n    name: \"CoinProduct\",\r\n    props: {\r\n        item: {\r\n            type: Object,\r\n            required: true,\r\n        },\r\n    },\r\n    data() {\r\n        return {};\r\n    },\r\n    methods: {\r\n        addCart() {\r\n            this.$emit(\"addCart\", this.item);\r\n        },\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>","import { render } from \"./CoinProduct.vue?vue&type=template&id=362320ce\"\nimport script from \"./CoinProduct.vue?vue&type=script&lang=js\"\nexport * from \"./CoinProduct.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./BuyCoinView.vue?vue&type=template&id=932a6f42\"\nimport script from \"./BuyCoinView.vue?vue&type=script&lang=js\"\nexport * from \"./BuyCoinView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_Fragment","_renderList","$data","products","product","_createBlock","_component_coin_product","key","id","item","onAddCart","$options","addCart","_toDisplayString","$props","title","_hoisted_4","src","imageUrl","alt","_hoisted_5","_hoisted_6","content","_hoisted_7","origin_price","price","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","onClick","_cache","$event","name","props","type","Object","required","data","methods","this","$emit","__exports__","apiUrl","apiPath","components","CoinProduct","getData","url","axios","get","then","response","catch","err","alert","message","sort","a","b","order","last","reduce","acc","cur","post","product_id","qty","mounted","render"],"sourceRoot":""}