{"version":3,"file":"js/448.a716d308.js","mappings":"uLACSA,MAAM,wB,GACFA,MAAM,8B,GACFA,MAAM,a,GACFA,MAAM,kB,GAEEA,MAAM,c,GACFA,MAAM,a,GACHA,MAAM,c,EAR1C,Q,0EACIC,EAAAA,EAAAA,IAgBM,MAhBNC,EAgBM,EAfFC,EAAAA,EAAAA,IAcM,MAdNC,EAcM,EAbFD,EAAAA,EAAAA,IAYM,MAZNE,EAYM,EAXFF,EAAAA,EAAAA,IAUM,MAVNG,EAUM,gBATFL,EAAAA,EAAAA,IAQMM,EAAAA,GAAA,MAb1BC,EAAAA,EAAAA,IAK2DC,EAAAC,UAATC,K,WAA9BV,EAAAA,EAAAA,IAQM,OARDD,MAAM,WAAuCY,IAAKD,EAAKE,I,EACxDV,EAAAA,EAAAA,IAMM,MANNW,EAMM,EALFX,EAAAA,EAAAA,IAIM,MAJNY,EAIM,EAHFZ,EAAAA,EAAAA,IAA4C,KAA5Ca,GAA4CC,EAAAA,EAAAA,IAAlBN,EAAKO,OAAK,IACpCf,EAAAA,EAAAA,IAAiE,OAA3DgB,IAAIR,EAAKS,SAASpB,MAAM,yBAAyBqB,IAAI,O,OAT3FC,IAUgCC,EAAAA,EAAAA,IAAiGC,EAAA,CAAnFC,GAAE,CAAAC,KAAA,gBAA4Bf,EAAKE,IAAMb,MAAM,mB,CAV7F2B,SAAAC,EAAAA,EAAAA,KAU+G,IAAI,EAVnHC,EAAAA,EAAAA,IAU+G,WAV/GC,EAAA,G,0DAuBA,GACIC,KAAM,WACNC,WAAY,CAAC,EACbC,IAAAA,GACI,MAAO,CACHC,OAAQ,0CACRC,QAAS,WACTzB,SAAU,GAElB,EACA0B,QAAS,CACLC,UAAAA,GACI,MAAMC,EAAO,GAAEC,KAAKL,wBACpBM,EAAAA,EACKC,KAAKH,GACLI,MAAK,KACFH,KAAKI,SAAS,IAEjBC,OAAOC,IACJC,MAAMD,EAAIE,SAASd,KAAKe,SACxBT,KAAKU,QAAQC,KAAK,SAAS,GAEvC,EACAP,OAAAA,CAAQQ,EAAO,GACX,MAAMb,EAAO,GAAEC,KAAKL,cAAcK,KAAKJ,qCAAqCgB,IAC5EX,EAAAA,EACKY,IAAId,GACJI,MAAMK,IACHR,KAAK7B,SAAWqC,EAASd,KAAKvB,SAE9B6B,KAAK7B,SAAS2C,MAAK,CAACC,EAAGC,IACZD,EAAEE,YAAYC,cAAcF,EAAEC,cACvC,IAELZ,OAAOC,IACJC,MAAMD,EAAIE,SAASd,KAAKe,QAAQ,GAE5C,GAGJU,OAAAA,GAEI,MAAMC,EAAQC,SAASC,OAAOC,QAAQ,iDAAkD,MACxFtB,EAAAA,EAAMuB,SAASC,QAAQC,OAAOC,cAAgBP,EAE9CpB,KAAKF,YACT,G,UChEJ,MAAM8B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://week5/./src/views/AuthorView.vue","webpack://week5/./src/views/AuthorView.vue?dad3"],"sourcesContent":["<template>\n    <div class=\"home container-fluid\">\n        <div class=\"row justify-content-center\">\n            <div class=\"col-9 p-2 \">\n                <div class=\"row row-cols-4\">\n                    <div class=\"col mb-3\" v-for=\"(item) in products\" :key=\"item.id\">\n                        <div class=\"card h-100\">\n                            <div class=\"card-body\">\n                                <h5 class=\"card-title\">{{ item.title }}</h5>\n                                <img :src=item.imageUrl class=\"card-img-top h-75 mb-1\" alt=\"...\">\n                                <router-link :to=\"{ path: '/ArtWorkView/' + item.id }\" class=\"btn btn-primary\">查看作品</router-link>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n    name: \"HomeView\",\n    components: {},\n    data() {\n        return {\n            apiUrl: \"https://vue3-course-api.hexschool.io/v2\",\n            apiPath: \"wuyi0020\",\n            products: [],\n        };\n    },\n    methods: {\n        checkAdmin() {\n            const url = `${this.apiUrl}/api/user/check`;\n            axios\n                .post(url)\n                .then(() => {\n                    this.getData();\n                })\n                .catch((err) => {\n                    alert(err.response.data.message);\n                    this.$router.push(\"/login\");\n                });\n        },\n        getData(page = 1) {\n            const url = `${this.apiUrl}/api/${this.apiPath}/products?category=作者&page=${page}`;\n            axios\n                .get(url)\n                .then((response) => {\n                    this.products = response.data.products;\n                    //用products裡的description來排序\n                    this.products.sort((a, b) => {\n                        return a.description.localeCompare(b.description);\n                    });\n                })\n                .catch((err) => {\n                    alert(err.response.data.message);\n                });\n        },\n\n    },\n    mounted() {\n        // 取出 Token\n        const token = document.cookie.replace(/(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/, \"$1\");\n        axios.defaults.headers.common.Authorization = token;\n\n        this.checkAdmin();\n    },\n\n};\n</script>\n","import { render } from \"./AuthorView.vue?vue&type=template&id=56474c1c\"\nimport script from \"./AuthorView.vue?vue&type=script&lang=js\"\nexport * from \"./AuthorView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_Fragment","_renderList","$data","products","item","key","id","_hoisted_5","_hoisted_6","_hoisted_7","_toDisplayString","title","src","imageUrl","alt","_hoisted_8","_createVNode","_component_router_link","to","path","default","_withCtx","_createTextVNode","_","name","components","data","apiUrl","apiPath","methods","checkAdmin","url","this","axios","post","then","getData","catch","err","alert","response","message","$router","push","page","get","sort","a","b","description","localeCompare","mounted","token","document","cookie","replace","defaults","headers","common","Authorization","__exports__","render"],"sourceRoot":""}